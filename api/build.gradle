// Licensed to the Apache Software Foundation (ASF) under one or more contributor license agreements;
// and to You under the Apache License, Version 2.0.

subprojects {
    jar {
      baseName jarPrefix + 'api.' + project.name
      destinationDir new File(targetj8, 'lib')

      // Temp to allow existing ant build to work
      archiveName baseName + '.jar'
    }

    jar.doFirst {
      manifest {
        def manifestCp = configurations.qext.files.collect  {
        File file = it
          "../ext/${file.name}"
          }.join(' ')
        
         manifestCp += configurations.compile.copy().collect() { it.getName() }.join(' ')
         attributes 'Class-Path': manifestCp
      }
    }
}
